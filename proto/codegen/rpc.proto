syntax = "proto3";

package malonaz.codegen.rpc.v1;

import "google/protobuf/descriptor.proto";

option go_package = "github.com/malonaz/malonaz/codegen/rpc";

extend google.protobuf.MethodOptions {
  CreateOpts create = 98331;
  UpdateOpts update = 98332;
  DeleteOpts delete = 98333;
  GetOpts get = 98334;
  ListOpts list = 98335;
}

message CreateOpts {
  // If true, we generate the create method.
  bool generate = 1;
  // If true, we expect a post insert function.
  bool pre_fn = 2;
  // If true, we expect a post insert function.
  bool post_fn = 3;
}

message UpdateOpts {
  // If true, we generate the update method.
  bool generate = 1;
  // If true, we expect a post insert function.
  bool pre_fn = 2;
  // If true, we expect a post insert function.
  bool post_fn = 3;
}

message DeleteOpts {
  // If true, we generate the delete method.
  bool generate = 1;
  // If true, we expect a pre delete function.
  bool pre_fn = 2;
}

message GetOpts {
  // If true, we generate the get method.
  bool generate = 1;
}

message ListOpts {
  // If true, we generate the create method.
  bool generate = 1;
  // If true, we expect a pre list function.
  bool pre_fn = 2;
  // If true, we expect a post list function.
  bool post_fn = 3;
}
